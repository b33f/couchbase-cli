'\" t
.\"     Title: cblogredaction
.\"    Author: Couchbase
.\" Generator: Asciidoctor 2.0.10
.\"      Date: 2021-04-22
.\"    Manual: Couchbase CLI Manual
.\"    Source: Couchbase CLI 1.0.0
.\"  Language: English
.\"
.TH "CBLOGREDACTION" "1" "2021-04-22" "Couchbase CLI 1.0.0" "Couchbase CLI Manual"
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.ss \n[.ss] 0
.nh
.ad l
.de URL
\fI\\$2\fP <\\$1>\\$3
..
.als MTO URL
.if \n[.g] \{\
.  mso www.tmac
.  am URL
.    ad l
.  .
.  am MTO
.    ad l
.  .
.  LINKSTYLE blue R < >
.\}
.SH "NAME"
cblogredaction \- Redacts log files
.SH "SYNOPSIS"
.sp
.sp
.nf
\fIcblogredaction\fP [\-h] (\-s <string> | \-g) [\-t <num>] [\-o <path>] [\-v]
                 File [File ...]
.fi
.br
.SH "DESCRIPTION"
.sp
A tool to redact log files outside of Couchbase Server such as, SDK and
cbbackupmgr log files. The redacted file will be named redacted\-[filename] and
will be placed in the current working directory.
.SH "OPTIONS"
.sp
\-h, \-\-help
.RS 4
Show the help message.
.RE
.sp
\-s <string>, \-\-salt <string>
.RS 4
Specifies the salt to used to hash the data. If possible the salt should be
the same used by Couchbase Server to allow the logs to be easily cross
referenced. The Couchbase Server salt is at the top of the couchbase.log in
the zip file generated by cbcollect_info.
.RE
.sp
\-g, \-\-generate\-salt
.RS 4
Automatically generated the salt used to hash the data. This will make it
harder to cross reference logs, where possible the salt should be specified
using the \-s option.
.RE
.sp
\-t <num>, \-\-threads <num>
.RS 4
The number of threads to use to redact the files. This option should only
be used when multiple files are specified as only one thread can work on
one file at a time.
.RE
.sp
\-o <path>, \-\-output\-dir <path>
.RS 4
Specifies the directory to place the redacted log in, if this option is not
used the redacted logs will be placed in the current working directory.
.RE
.sp
\-v, \-\-verbose
.RS 4
Increase output verbosity, the more times it is specified the more verbose
the logging will be.
.RE
.SH "EXAMPLES"
.sp
To redact a file called \f(CRbackup.log\fP using \f(CRABCDEF\fP as the salt.
.sp
.if n .RS 4
.nf
$ cblogredaction \-s ABCDEF backup.log
.fi
.if n .RE
.sp
To redact two files called \f(CRsdk\-01.log\fP and \f(CRsdk\-02.log\fP using a generated salt
and two threads.
.sp
.if n .RS 4
.nf
$ cblogredaction \-g \-t 2 sdk\-01.log sdk\-02.log
.fi
.if n .RE
.SH "AUTHOR"
.sp
Couchbase